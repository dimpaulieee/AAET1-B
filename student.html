<h2>Reviewers for You</h2>
<div id="reviewerDisplay"></div>
<button id="nextBtn">Next Reviewer</button>

<script type="module">
import { db } from './js/firebase.js';
import { collection, getDocs } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

let reviewers = [];
let index = 0;
const display = document.getElementById('reviewerDisplay');
const nextBtn = document.getElementById('nextBtn');

async function loadReviewers() {
  const querySnapshot = await getDocs(collection(db, 'reviewers'));
  reviewers = querySnapshot.docs.map(doc => doc.data());
  showReviewer();
}

function showReviewer() {
  if (reviewers.length === 0) {
    display.innerText = 'No reviewers yet.';
    return;
  }
  display.innerText = `${reviewers[index].name} - ${reviewers[index].subject}`;
}

nextBtn.addEventListener('click', () => {
  if (reviewers.length === 0) return;
  index = (index + 1) % reviewers.length; // loop through reviewers
  showReviewer();
});

loadReviewers();
</script>
