<!DOCTYPE html>
<html>
<head>
  <title>Create Test Users</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
    import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCYTtxWajWspPqkdPggdNHestJ8AYPHto4",
      authDomain: "test-2194f.firebaseapp.com",
      projectId: "test-2194f",
      storageBucket: "test-2194f.appspot.com",
      messagingSenderId: "576691817030",
      appId: "1:576691817030:web:85538c0def38c29d0a5847",
      measurementId: "G-ZXDT8R6Q9C"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const auth = getAuth(app);

    async function createTestUsers() {
      const testUsers = [
        {
          email: 'admin@aaet.com',
          password: 'admin123',
          name: 'Admin User',
          role: 'admin'
        },
        {
          email: 'student@aaet.com',
          password: 'student123',
          name: 'Student User',
          role: 'student'
        }
      ];

      for (const user of testUsers) {
        try {
          // Create auth user
          const userCredential = await createUserWithEmailAndPassword(auth, user.email, user.password);
          const firebaseUser = userCredential.user;
          
          // Create user document in Firestore
          await setDoc(doc(db, 'users', firebaseUser.uid), {
            email: user.email,
            name: user.name,
            role: user.role,
            createdAt: new Date().toISOString()
          });
          
          console.log(`✅ Created ${user.role}: ${user.email}`);
        } catch (error) {
          console.error(`❌ Error creating ${user.email}:`, error.message);
        }
      }
      
      console.log('✅ Test users created! You can now log in.');
    }

    // Run on button click
    document.getElementById('createUsersBtn').addEventListener('click', createTestUsers);
  </script>
</head>
<body style="font-family: Arial; padding: 20px;">
  <h1>Create Test Users</h1>
  <p>Click the button below to create test admin and student accounts.</p>
  <button id="createUsersBtn" style="padding: 10px 20px; font-size: 16px;">
    Create Test Users
  </button>
  <div id="result" style="margin-top: 20px;"></div>
</body>
</html>
